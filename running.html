<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BaltradDex: Running BaltradDex</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="baltrad_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">BaltradDex
   </div>
   <div id="projectbrief">BALTRAD Data Exchange System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('running.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Running BaltradDex</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>December 2015 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.2</dd></dl>
<p><a class="el" href="index.html#main_index">Index</a></p>
<ol type="1">
<li><a class="el" href="#start">Starting BaltradDex</a></li>
<li><a class="el" href="#login">Login/Logout</a></li>
<li><a class="el" href="#change_password">Change user's password</a></li>
<li><a class="el" href="#quick_setup">Quick setup</a><ol type="a">
<li><a class="el" href="#quick_node_settings">Node settings</a></li>
<li><a class="el" href="#quick_radars">Radars</a></li>
<li><a class="el" href="#quick_data_sources">Data sources</a></li>
<li><a class="el" href="#quick_injector">Import injector's key</a></li>
<li><a class="el" href="#quick_keys">Exchange keys between nodes</a></li>
</ol>
</li>
<li><a class="el" href="#conn">Connecting to peer node</a></li>
<li><a class="el" href="#subscribe">Managing subscriptions</a></li>
<li><a class="el" href="#node_status">Checking node status</a></li>
<li><a class="el" href="#registry">Data delivery registry</a></li>
<li><a class="el" href="#log">Message logging</a></li>
<li><a class="el" href="#sticky_messages">Sticky messages</a></li>
<li><a class="el" href="#more_data_sources">More on data sources</a></li>
<li><a class="el" href="#data_browse">Data browsing and access</a></li>
<li><a class="el" href="#data_processing">Data processing</a></li>
<li><a class="el" href="#admin">Administrative tasks</a><ol type="a">
<li><a class="el" href="#radars">Radars</a></li>
<li><a class="el" href="#data_sources">Data sources</a></li>
<li><a class="el" href="#subscription_settings">Subscription settings</a></li>
<li><a class="el" href="#registry_settings">Delivery registry settings</a></li>
<li><a class="el" href="#messages_settings">Messages settings</a></li>
<li><a class="el" href="#accounts">User account management</a> <br  />
</li>
<li><a class="el" href="#node_settings">Node settings</a></li>
</ol>
</li>
</ol>
<h1><a class="anchor" id="start"></a>
Starting BaltradDex</h1>
<p>Assuming that your Tomcat server is installed on local machine and listening on port 8084, in order to run the application, open a web browser and type the following in the address bar:</p>
<div class="fragment"><div class="line">http:<span class="comment">//localhost:8443/</span></div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>BaltradDex was tested with the following browsers: Firefox, Opera, Google Chrome and Konqueror. Usage of Internet Explorer is currently not supported. Because we are using self-signed certificates, your browser will warn you about untrusted connection and ask you if you want to add a security exception. Confirm security exception to access BaltradDex login page. <br  />
</dd></dl>
<h1><a class="anchor" id="login"></a>
Login/Logout</h1>
<p>Sign in typing your user name and password in the textbox available on the login screen. During installation, default administrator's account is created with user name <code>admin</code> and password <code>baltrad</code>.</p>
<dl class="section attention"><dt>Attention</dt><dd>It is absolutely crucial that you change administrator's password immediately after signing in for the first time. Refer to <a class="el" href="#accounts">User account management</a> section for details. <br  />
</dd></dl>
<p>In order to sign out, use <code>Logout</code> link available in the upper right corner of each page. <br  />
</p>
<dl class="section note"><dt>Note</dt><dd>For security reasons, it is important that user signs out each time after work session is over. The following message on the login page confirms that user credentials have been successfully removed from HTTP session. <br  />
 <br  />
<br  />
<div class="image">
<img src="logout.png" alt=""/>
</div>
 \endnote</dd></dl>
<h1><a class="anchor" id="change_password"></a>
Change user's password</h1>
<p>It is important for the user to change the default password set by system administrator. In order to change the password, click <code>Password</code> option located in <code>Settings</code> group of the left-column menu. User will be presented with a page allowing to modify the password.</p>
<div class="image">
<img src="change_user_password.png" alt=""/>
</div>
<p>Enter new password, confirm it by typing the password again and click <code>Save</code>. System will display a message confirming that password has been changed. From now on new password will be used in order to sign in.</p>
<div class="image">
<img src="change_user_password_status.png" alt=""/>
</div>
<dl class="section attention"><dt>Attention</dt><dd>For security reasons, it is strongly recommended that user changes the password as soon as possible, preferably after signing in for the first time.</dd></dl>
<h1><a class="anchor" id="quick_setup"></a>
Quick setup</h1>
<p>In order to configure a fully functional system ready to exchange data, several things have to be done.</p>
<h2><a class="anchor" id="quick_node_settings"></a>
Node settings</h2>
<p>First thing to do is to configure node properties. Since setting node properties require administrative privileges, it is necessary to sign in as user <code>admin</code>. Once signed in, click <code>Node settings</code> option from left-column menu.</p>
<div class="image">
<img src="node_properties.png" alt=""/>
</div>
<p>The most important settings are <code>Node name</code> and <code>Node address</code>. Make sure that these settings are correct before configuring data exchange.</p>
<dl class="section attention"><dt>Attention</dt><dd>Make sure that <code>Node name</code> setting always matches the name of localhosts's key entry in the keystore. If you have installed BaltradDex software with node-installer package, your node name was specified on installation stage and it should remain unchanged. In case of installing BaltradDex as standalone module, proceed according to the instructions given in <a class="el" href="install.html#build_dex">Build &amp; install BaltradDex</a>.</dd></dl>
<h2><a class="anchor" id="quick_radars"></a>
Radars</h2>
<p>BaltradDex provides radar interface which allows to access data from a given radar station. Radar interface is not used directly - it is selected as a basic parameter of data source (see the next section). In order to configure radar, click <code>Radars</code> item in the main menu. Menu will expand showing available options. Click <code>Add</code> option. Next, select desired center from the list on the left by clicking on the center identifier. Identifiers have the following form: Country code - GTS code - center number. Once clicked, the box on the right reveals the list of radar stations available for a given center. Radar station names are presented in the following form: Place - radar code - WMO number. Click <code>Save</code> button to save radar configuration.</p>
<div class="image">
<img src="save_radar.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Use <code>Show</code> option from <code>Radars</code> menu to display the list of currently configured radar stations. <code>Remove</code> option will delete selected radars. \endnote</dd></dl>
<h2><a class="anchor" id="quick_data_sources"></a>
Data sources</h2>
<p><br  />
</p>
<p>Next step is configuration of data sources. Data source is an interface allowing to access data injected into baltrad node from local production system. Data available with a given data source must exactly match its parameters. <br  />
 Click <code>Data Sources</code> option in the main menu and <code>Add</code>. At the top of the page, fill in the textboxes providing a significant data source name and description like in the example given below. Typically, data sources are named after radars, including some additional parameters, like data type in the example below.</p>
<div class="image">
<img src="data_source_name.png" alt=""/>
</div>
<p>Next scroll down to radar selection box. General rule for setting data source parameters is to add parameters from left options box to the right. Select a parameter in the left options box, then use button marked with <code>&gt;</code> sign in order to add the parameter to the options box in the right. Use <code>&lt;</code> button to remove unwanted parameter. Select one or more radars according to your needs. Typically only one radar is selected for a data source, but more radars is still possible. Remember that data files coming from these radars will be available with this data source. <br  />
 </p><dl class="section note"><dt>Note</dt><dd>At least one radar is required. In case of an attempt to save data source without selected radar, user will be warned with a relevant message. <br  />
 \endnote</dd></dl>
<div class="image">
<img src="data_source_radar.png" alt=""/>
</div>
<p>Scroll the page down. Next step is selection of file object according to ODIM_H5 model specification. Select file object from the left options box and use <code>&gt;</code> button in order to add it to selected options box, just like in the previous step. It is possible to select more than one file object. In such case all selected objects will be available with this data source. <br  />
</p>
<div class="image">
<img src="data_source_file_object.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Move mouse cursor over a selected option to get detailed file object description displayed as tooltip. \endnote</dd></dl>
<p>Scroll the page to the bottom. Last step of data source configuration is selection of users for which this data source will be available. This means that users selected at this stage will be able to subscribe the data source and will receive data matching its parameters defined in the previous steps. </p><dl class="section note"><dt>Note</dt><dd>The desired user account might not be available in the system at the stage of data source configuration. This is because user accounts with role <code>peer</code> (typically used for data exchange) are created automatically upon first incoming connection. It is possible however to configure data source with no user accounts assigned and add given account as soon as it is created. <br  />
 \endnote</dd></dl>
<div class="image">
<img src="data_source_user.png" alt=""/>
</div>
<p>Once the above steps are completed, press <code>Save</code> to store data source configuration. User will be redirected to status page indicating whether saving of data source was successful. Clicking <code>OK</code> in the status page will take user to data source selection page.</p>
<div class="image">
<img src="data_source_summary.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Use <code>Edit</code> and <code>Remove</code> options available in <code>Data sources</code> menu in order to modify data source parameters or delete data source from the system. Note that in case when name of existing data source is modified, it will be saved as a new data source. <br  />
 \endnote</dd></dl>
<h2><a class="anchor" id="quick_injector"></a>
Import injector's key</h2>
<p>In order to get data from local production system into BALTRAD node, it is necessary to configure injector software which will deliver data to the node. Because each incoming file/message is authenticated, it is required that injector software provides its public key in order for the node to be able to authenticate incoming file/message. If you are running injector software like OdimH5 or other software that doesn't have it's own tool for exporting the key, you can use a key import tool available in <code>script</code> directory of BaltradDex package.</p>
<div class="fragment"><div class="line">node-installer/packages/BaltradDex/script/import_key.py</div>
</div><!-- fragment --><p>Prior to using key import script, make sure that you have Python's <code>psycopg2</code> module installed in your system. Under Ubuntu linux, you can install this module with the following command:</p>
<pre class="fragment">$ sudo apt-get install python-psycopg2
</pre><p>In order to test the script, execute the following command:</p>
<div class="fragment"><div class="line">$ python import_key.py --help</div>
</div><!-- fragment --><p>Assuming that all necessary modules are in place, the script will display usage information. Once the module is installed, you can imort the key either from local or remote machine, depending on where the injector is supposed to run. Following is the example of importing key from local machine (injector runs on the same machine as the node software itself):</p>
<div class="fragment"><div class="line">$ python import_key.py --key=/opt/baltrad/odimH5/.keystore/rainbow.imgw.pl.pub </div>
<div class="line">--dst=/opt/baltrad/etc/bltnode-keys --dbuser=baltrad --dbhost=localhost </div>
<div class="line">--db=baltrad --pwd=baltrad</div>
</div><!-- fragment --><p>In the example above, the following parameters have been used:</p>
<pre class="fragment">--key - path to the source key directory
--dst - destination directory, typically BALTRAD keystore folder as shown above
--dbuser - database user, in this case we're using a default user
--dbhost - database server address, localhost used here
--db - database name
--pwd - database password
</pre><p>Once the script is executed, the key will be copied to the destination directory and its metadata will be stored in the database. It is also possible to import the key from remote machine available with SSH. Here's an example.</p>
<div class="fragment"><div class="line">$ python import_key.py --key=/opt/baltrad/odimH5/.keystore/rainbow.imgw.pl.pub </div>
<div class="line">--dst=/opt/baltrad/etc/bltnode-keys --user=baltrad --host=192.168.1.101</div>
<div class="line">--dbuser=baltrad --dbhost=localhost --db=baltrad --pwd=baltrad</div>
</div><!-- fragment --><p>There are 2 additional parameters applied:</p>
<pre class="fragment">--user - remote host's user name
--host - remote host IP address
</pre><p>Assuming that injector's key has been successfully imported, you should see a message like the following.</p>
<pre class="fragment">Copying the key from /opt/baltrad/odimH5/.keystore/rainbow.imgw.pl.pub  ...
... OK.
Calculating key checksum ...
... OK.
Storing key in the database baltrad ...
... OK.
</pre><p>The last step is telling the node which messages are coming from the injector (in contrast to the messages coming from the peer node). <br  />
Click <code>Keystore</code> from the <code>Settings</code> menu group. You will be presented with a list of keys available in the keystore, as shown in the image below.</p>
<div class="image">
<img src="keystore_injector.png" alt=""/>
</div>
<p>Each key in the keystore has an option called <code>Injector</code>. If this option is set to on, node will be aware that messages that are authenticated using this particular key are coming from an injector. <br  />
According to the previous example, <code>Injector</code> option should be set to on for the key that has been imported from the injector. In order to achieve this, click <code>Injector</code> button next to the selected key entry. Red icon will turn blue, indicating that the given key has been set to injector. <br  />
 Independently of identifying a key as injector, in order to let the files through authentication process, access should be granted for the key. To do this, click <code>Access</code> button so it turns from red to blue. In the image below key named <code>rainbow.imgw.pl.pub</code> is configured as approved injector's key.</p>
<div class="image">
<img src="keystore_injector_approve.png" alt=""/>
</div>
<p>From now on node should be able to successfully authenticate messages coming from the injector.</p>
<h2><a class="anchor" id="quick_keys"></a>
Exchange keys between nodes</h2>
<p>Every message arriving in BALTRAD node is authenticated using private/public key pair. In general, outgoing message is signed with node's private key and incoming message is verified and authenticated with public key. According to this approach, for communication to take place, local node's public key has to be available in the peer node's keystore and vice versa. <br  />
<br  />
Therefore, before connecting to peer node, local node's public key has to available in peer node's keystore. In order to send your public key to the peer node, click <code>Connect</code> option located in the <code>Exchange</code> group in the main menu. Type peer node's URL address in the edit box and click <code>Send key</code> button.</p>
<div class="image">
<img src="post_key_address.png" alt=""/>
</div>
<p>In case the key was successfully sent to the peer node, user will be informed with the following message:</p>
<div class="image">
<img src="post_key_success_msg.png" alt=""/>
</div>
<p>In case when the key already exists in the peer node's keystore (e.g. has already been sent earlier), the following message is shown:</p>
<div class="image">
<img src="post_key_exists_msg.png" alt=""/>
</div>
<p>Once local key has been sent to the peer node, peer node's administrator has to approve a given key. In order to access the keystore, node's admin clicks <code>Keystore</code> option from the <code>Settings</code> group in the menu. Keystore content will be presented as in the image below. <br  />
</p>
<div class="image">
<img src="keystore_mgmt.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Key's authenticity is verified automatically by the receiving node. Authentication consists in comparison of key's checksum sent along with the key itself against the checksum calculated by the receiving node. In case the checksums differ (e.g. in case of content substitution), the key will be rejected. <br  />
 \endnote</dd></dl>
<p>Once the key has arrived, next thing is granting access for this key. In the following example, <code>dev.baltrad.imgw.pl</code> is the incoming key, while <code>baltrad2.imgw.pl</code> is local node's public key.</p>
<dl class="section note"><dt>Note</dt><dd>For security reasons, local node's key can't be modified or removed. Local key is always marked with blue buttons. \endnote <br  />
</dd></dl>
<p>To grant access for the selected key, click <code>Access</code> button next to given key entry. Red icon turn blue, indicating that access for the given key has been granted.</p>
<div class="image">
<img src="keystore_grant.png" alt=""/>
</div>
<p>From now on the system will let throught every incoming message that can be successfully verified with this key.</p>
<p>In order to revoke access, click on the same icon once again. It will turn red again and access for the selected key will be revoked.</p>
<p>Keystore management page allows to remove peer's key permanently. To remove selected key click <code>Delete</code> icon next to given key entry. Once clicked, icon reveals dialog asking user to confirm key deletion. Click <code>Delete</code> button to remove key permanently from the keystore, or <code>Cancel</code> button to get leave the key in the keystore.</p>
<div class="image">
<img src="keystore_delete.png" alt=""/>
</div>
<p><br  />
</p>
<h1><a class="anchor" id="conn"></a>
Connecting to peer node</h1>
<p>Basic BaltradDex functionality allows to connect to peer node and access and subscribe data sources available for a given user. In order to connect, sign in to BaltradDex, click <code>Connect</code> option from <code>Exchange</code> group in the main menu. Assuming that connection to a given node is made for the first time, type node address in the text box <code>Enter URL address</code> according to the example below. <br  />
</p>
<div class="image">
<img src="connect_address.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Make sure to type address in the correct format: <br  />
<br  />
<code><a href="http://server.name.org:">http://server.name.org:</a>[port number]</code> <br  />
<br  />
If incorrect address is specified, system will issue a following message:</dd></dl>
<div class="image">
<img src="invalid_address.png" alt=""/>
</div>
<p> \endnote</p>
<p>Clict <code>Connect</code>. Upon successful connection, peer node will render the view with a list od data sources available for the user to subscribe (see the image below). In order to subscribe a given data source, click a checkbox next to data source name and description. Once selection is made, click <code>OK</code>. The system will ask to confirm the selection by clicking <code>OK</code> on the next screen and submitting subscripions request at the peer node. <br  />
</p>
<div class="image">
<img src="connect_data_sources.png" alt=""/>
</div>
<p>If subscription request was successfully completed, user is presented with the following message confirming the operation. Clicking \OK will redirect user to subscription status page.</p>
<div class="image">
<img src="connect_success.png" alt=""/>
</div>
<p>Subscription status page (see image below) allows to access subscription list on per node basis, that is to access and manage subscriptions at each peer node separately. Click peer node name to access subscription management page. </p><dl class="section note"><dt>Note</dt><dd>User can access subscription status page at all times by clicking <code>Subscriptions</code> option from <code>Exchange</code> group in the main menu. \endnote <br  />
</dd></dl>
<div class="image">
<img src="peer_subscription.png" alt=""/>
</div>
<p>After clicking on peer node name, system displays list of data sources subscribed at this node. This page allows to modify subscription status by activating or cancelling subscription of particular data sources. <br  />
<br  />
Refer to <a class="el" href="#subscribe">Managing subscriptions</a> section for details.</p>
<div class="image">
<img src="subscriptions.png" alt=""/>
</div>
<h1><a class="anchor" id="subscribe"></a>
Managing subscriptions</h1>
<p>To access subcription management page, click on <code>Subscriptions</code> option in the main menu. Click name of desired peer node to access subscriptions available at this node. Now it is possible start or cancel subscription of a given data source. Simply check or uncheck a corresponding check box and click <code>OK</code> button. <br  />
</p>
<div class="image">
<img src="subscriptions_selected.png" alt=""/>
</div>
<p><br  />
</p>
<p>Next page shows subcription request that will be sent to the peer node and serves as a confirmation. Blue check mark denotes activating subscription, whereas red circle means that subscription of a given data source will be cancelled. Click <code>Back</code> to go back to selection page or <code>OK</code> to send subscription request.</p>
<div class="image">
<img src="subscriptions_requested.png" alt=""/>
</div>
<p>Assuming that the request was successfully posted at the peer node, the system will display the following message to confirm that subscription status was modified. Click <code>OK</code> to go back to initial subacription status page.</p>
<div class="image">
<img src="subscriptions_status.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Detailed information on system activity, i.e. node connections, subscription requests, incoming data etc. can be accessed with message logging interface. <br  />
 Refer to <a class="el" href="#log">Message logging</a> section for details. \endnote</dd></dl>
<h1><a class="anchor" id="node_status"></a>
Checking node status</h1>
<p>Node status data is displayed on status page which is available directly after user signs in. It is also available by clicking <code>Status</code> link in the main menu. Node status page is divided into 2 sections, containing different type of information. <br  />
 <br  />
First section, shown in the image below, presents useful information concerning the server itself, i.e: node name, software version, operator, number of entries in system log and delivery registry, as well as currently available disk space.</p>
<div class="image">
<img src="node_status_info.png" alt=""/>
</div>
<p>The second section contains information on data exchange. The information is grouped by nodes, which are currently exchanging data with the local node (see image below). <br  />
</p>
<div class="image">
<img src="node_status_exchange.png" alt=""/>
</div>
<p>There are 2 types of data transfer:</p>
<p><br  />
</p><ul>
<li>Downloads - data downloaded from the peer nodes. Downloads option shows the status of your subscriptions to data sources available on peer nodes. <br  />
 <br  />
</li>
<li>Uploads - data uploaded to the peer nodes. Upload option allows to access information about local data sources subscribed by peer nodes. <br  />
</li>
</ul>
<p>User can check current data transfer status clicking a given node name. This reveals 2 items: <code>Downloads</code> and <code>Uploads</code> (depending on the current data exchange status), as shown in the image below.</p>
<div class="image">
<img src="node_status_transfers.png" alt=""/>
</div>
<p>Clicking <code>Downloads</code> option will display the list of data sources currently subscribed at the selected peer node. In the example below, clicking <code>Downloads</code> item shows list of data sources subscribed at <code>se.baltrad.eu</code>. <br  />
</p>
<div class="image">
<img src="node_status_downloads.png" alt=""/>
</div>
<p>Each item on the list contains name of data source, date and and time when subscription has started as well as subscription status. If subscription status is set to <code>Active</code>, it means that local node is currently receiving data from a given data source. If subscription is stopped, the status control changes to <code>Off</code>.</p>
<p><br  />
By analogy, clicking <code>Uploads</code> item shows list of local data sources subscribed by a given peer node, in this case <code>se.baltrad.eu</code>, as shown below. <br  />
</p>
<div class="image">
<img src="node_status_uploads.png" alt=""/>
</div>
<p><br  />
</p>
<p>Uploads list contains information about data source name, date and time when subscription has started, number of successfully uploaded files and upload failures.</p>
<h1><a class="anchor" id="registry"></a>
Data delivery registry</h1>
<p>If there are active subscriptions and local node is supplied with data from local production system, user can check the status of data delivery to the peer <br  />
 nodes that subscribed local data sources. <br  />
To check data delivery status, click <code>Delivery registry</code> link from the <code>Exchange</code> options group. Delivery registry page is shown in the image below.</p>
<div class="image">
<img src="delivery_registry.png" alt=""/>
</div>
<p>Each entry in the registry contains timestamp, recipient (user) name, data file signature and delivery status (blue check mark denotes delivery success, red circle - failure). User can navigate through registry entries in a standard way, using either buttons with page numbers or scroll buttons.</p>
<h1><a class="anchor" id="log"></a>
Message logging</h1>
<p>System messages interface allows to access and display detailed information on system activity. It is possible to display system messages in two modes. First mode allows to update message display automatically. Click <code>Messages</code> link in <code>Node status</code> options group of the main menu. By default, system will enter <code>live</code> mode, which means that the display will be automatically updated each time a new message is logged. Auto-refresh option can be turned off and on at all times by clicking <code>Auto-update</code> toggle.</p>
<dl class="section note"><dt>Note</dt><dd>There are 3 types of messages - informative messages (displayed on white background), warnings (yellow) and errors (light red). \endnote</dd></dl>
<div class="image">
<img src="latest_messages.png" alt=""/>
</div>
<p>The second mode allows to access full system log, as well as search for messages based on selected criteria. Select <code>Messages</code> option from the main menu, then Click <code>Browse</code> link placed in the upper right corner of messages screen. Upper part of the page allows to define message search criteria. The following options are available:</p>
<ul>
<li>Message logger - message logger (software component) that produced the message. The following loggers are available: <code>DEX</code> (data exchange component), <code>BEAST</code> (data processing component) and <code>PGF</code> (product generation framework).</li>
<li>Log level - one of the following message types: informative - INFO, warning - <code>WARN</code> or error messages - <code>ERROR</code>. <br  />
</li>
<li>Start date - starting date of messages' timespan. Click calendar's icon to pick start date.</li>
<li>Start time - starting time of messages' timespan. <br  />
</li>
<li>End date - end date of messages' timespan. Click calendar's icon to pick end date.</li>
<li>End time - end time of messages' timespan.</li>
<li>Phrase - phrase to look for in message body. <br  />
</li>
</ul>
<div class="image">
<img src="browse_messages.png" alt=""/>
</div>
<p>Once search options are set, click \pSelect button. Navigate through pages either clicking page numbers of scroll buttons. Click <code>&gt;</code> sign to move to next page, <code>&lt;</code> to move to previous page. Clicking <code>&lt;&lt;</code> sign will display the first page, and <code>&gt;&gt;</code> the last page of system log. Use <code>Reset</code> button to reset message search options.</p>
<dl class="section note"><dt>Note</dt><dd>The <code>Show latest</code> link in the upper right corner of the page allows to return to <code>live</code> messages display mode. \endnote</dd></dl>
<h1><a class="anchor" id="sticky_messages"></a>
Sticky messages</h1>
<p>Sticky messages serve as notification system informing user about events that require some kind of interaction. For instance, user is informed about receiving public key from a peer node. Since it is up to the user to approve or reject the key, they have to be aware that the key has been received and that it awaits further action. <br  />
First, user is informed that sticky messages have been received. This is accomplished with a special message box located in the title bar at the top of each page, as shown in the image below.</p>
<div class="image">
<img src="sticky_message_notification.png" alt=""/>
</div>
<p>The message box will remain visible as long as at least one sticky message is available in the system. <br  />
<br  />
In order access and read messages, click the link given in the message box. The system will display sticky messages in a dedicated page as shown below.</p>
<div class="image">
<img src="sticky_message_show.png" alt=""/>
</div>
<p>Sticky message consists of the header containing date and time when the message was received and of actual message content. The content may include some tips on the further actions that should be taken, as in case of receiving public key from a peer node. <br  />
 <br  />
<br  />
Sticky messages should be removed once it is read. To remove a sticky message, click <code>Delete</code> button next to it. If there are no messages remaining, notification box will be no longer visible in the title bar and the system will display the following information:</p>
<div class="image">
<img src="sticky_message_deleted.png" alt=""/>
</div>
<h1><a class="anchor" id="more_data_sources"></a>
More on data sources</h1>
<p>Section <a class="el" href="#quick_data_sources">Data sources</a> showed how to configure and save a data source. Existing data sources are available with <code>Data sources</code> link located in the main menu in <code>Node status</code> group. Image below shows list of data sources available in the system.</p>
<div class="image">
<img src="data_sources.png" alt=""/>
</div>
<p>Data source interface allows to access, browse, display and download data files matching its parameters. Click on a given data source name to list the matching files. Use page numbers and scroll buttons to navigate through pages.</p>
<div class="image">
<img src="data_source_files.png" alt=""/>
</div>
<p><br  />
</p>
<p>File listing page provides user with access to detailed file information and quick file preview as well as allows to download selected file. User can download selected file clicking <code>Download</code> link next to the given file entry. Browser will display standard file download dialog, allowing to select target storage directory. In order to display detailed information about selected file, user clicks <code>Details</code> option. File details page is consists of 2 sections. First section, shown in the image below, contains some basic information about data file: file signature, date, time, source ID (ID of the radar station that collected the data), storage time and data type (file object type, according to ODIM_H5 radar data information model).</p>
<div class="image">
<img src="data_source_file_details_info.png" alt=""/>
</div>
<p>Next section displays data preview for each dataset contained in the file. A thumbnail is generated for each scan and for each data type independently (e.g. dBZH, dBZV, VRAD etc.). The example below presents data preview for volume file consisting of several scans. Each image representing a single scan is associated with information about antenna elevation angle and data type - in this case horizontally polarized reflectivity. </p><div class="image">
<img src="data_source_file_details_preview.png" alt=""/>
</div>
<p><br  />
<br  />
Next feature is full-sized data preview. Click on any image representing a single scan. The system will generate full size image based on original radar data resolution stored in files's metadata. The image will be displayed as an overlay in Google Maps interface, like in the example below. <br  />
</p>
<div class="image">
<img src="data_source_file_image.png" alt=""/>
</div>
<p>Use <code>Opacity</code> slider to adjust radar data layer's opacity and <code>Toggle visibility</code> button to turn radar data layer on and off.</p>
<h1><a class="anchor" id="data_browse"></a>
Data browsing and access</h1>
<p>Data browsing interface allows user to browse and access radar data files in a flexible way. In order to access file browser interface, click <code>Browse files</code> link in <code>Node status</code> options group of the main menu. <br  />
<br  />
There are several parameters available to specify while browsing data. The parameters include source radar station, file object type according to ODIM_H5 specification and time span. Select radar station and file object type from the drop-down lists, set dates clicking on calendar icon next to <code>Start date</code> and <code>End date</code> fields. Once parameters are set, click <code>Select</code> button. Files matching defined criteria will be fetched from the database. <br  />
</p>
<div class="image">
<img src="browse_files.png" alt=""/>
</div>
<p>User navigates through the list of selected files in a standard way, clicking page numbers and scroll buttons. File listing can be sorted by date, time, source and type. I order to sort the list, user clicks on the header of selected column, e.g. <code>Source</code>. File listing provides acces to file details page, as described in <a class="el" href="#more_data_sources">More on data sources</a> section. Click <code>Details</code> to access file details and data preview page, click <code>Download</code> to store file on the local disk. <br  />
</p>
<h1><a class="anchor" id="data_processing"></a>
Data processing</h1>
<p>BaltradDex constitutes interface to data processing functionality. Data processing options are grouped in <code>Processing</code> tab. Refer to <a href="http://git.baltrad.eu/pgf.html">BALTRAD User Manual</a> for further information.</p>
<h1><a class="anchor" id="admin"></a>
Administrative tasks</h1>
<p>This section addresses administrative tasks related to node management and settings. Features presented here are available in <code>Settings</code> menu group, which is only available for node's administrator. <br  />
</p>
<h2><a class="anchor" id="radars"></a>
Radars</h2>
<p>Refer to <a class="el" href="#quick_radars">Radars</a> section.</p>
<h2><a class="anchor" id="data_sources"></a>
Data sources</h2>
<p>Refer to <a class="el" href="#quick_data_sources">Data sources</a> section.</p>
<h2><a class="anchor" id="subscription_settings"></a>
Subscription settings</h2>
<p>Subscription settings is useful feature in case when subscription status between two nodes is not synchronized. This situation may occur when e.g. node A subscribes data source X on node B. Then subscription status on node A is erased due to some kind of error or faulty database operation. In such case information about subscribed data source X still exists on node B, but no longer on node A. To get rid of invalid subscription, user at node B should click <code>Subscriptions</code> item to expand menu. Two options are available: <code>Remove downloads</code> and <code>Remove uploads</code>, by analogy to subscription types described in subscription_status. Let's say there invalid subscription of data source X at node B was discovered. User should click <code>Remove uploads</code> item. The following page will be displayed. <br  />
</p>
<div class="image">
<img src="subscriptions_remove_upload.png" alt=""/>
</div>
<p>The page presents information about local data sources and respective subscribers. Click <code>Select</code> checkbox next to the desired subscription entry and <code>OK</code> to remove. User will be asked to confirm subscription removal with the following warning.</p>
<div class="image">
<img src="subscriptions_remove_upload_warn.png" alt=""/>
</div>
<p>Click <code>OK</code> to confirm. Invalid subscription entries will be deleted. <br  />
 <br  />
<br  />
The same operation can be performed on data downloads, that is subscriptions of data sources at peer nodes. User can remove subscriptions selecting <code>Remove downloads</code> option from the menu. The following page presents information about data downloads. <br  />
</p>
<div class="image">
<img src="subscriptions_remove_download.png" alt=""/>
</div>
<p>The page contains information about subscribed data sources and respective operators (peer nodes), as well as about subscription status (active /inactive). In order to remove subscription, click <code>Select</code> checkbox next to the desired subscription entry and <code>OK</code> to remove. User will be asked to confirm subscription removal with the following warning. <br  />
</p>
<div class="image">
<img src="subscriptions_remove_download_warn.png" alt=""/>
</div>
<p>Click <code>OK</code> to confirm. Invalid subscription entries will be deleted.</p>
<dl class="section note"><dt>Note</dt><dd>When removing an active download, local node will attempt to stay synchronized with the remote node where subscription have been started. This is achieved by checking whether subscriptions (downloads) selected for removal exist on the remote node. In case they do, local node will attempt to cancel these subscriptions at the remote node prior to removal.</dd></dl>
<h2><a class="anchor" id="registry_settings"></a>
Delivery registry settings</h2>
<p><code>Delivery registry</code> settings allow to keep track of the number of delivery registry entries stored in the system. Click <code>Delivery registry</code> to expand available options. <code>Configure</code> option allows to set maximum number of delivery registry entries or maximum age of entries. See the image below. <br  />
</p>
<div class="image">
<img src="registry_settings.png" alt=""/>
</div>
<p>The <code>Set active</code> checkbox activates selected limit. If both checkboxes are checked, delivery registry entries will be deleted based on both maximum number and maximum age of entries, whichever criterion is met. <br  />
<br  />
<code>Clear</code> option allows to immediately remove all delivery registry entries. This option should be used with care. It is recommended to set limit on either number or age of delivery registry entries instead, as described above. <br  />
</p>
<div class="image">
<img src="registry_clear.png" alt=""/>
</div>
<h2><a class="anchor" id="messages_settings"></a>
Messages settings</h2>
<p><code>System messages</code> settings allow to keep track of the number of log entries stored in the system. Click <code>Messages</code> to expand available options. <code>Configure</code> option allows to set maximum number of log entries or maximum age of log entries. You are also able to configure the number of pages to see in the message browser scroll bar. See the image below. <br  />
</p>
<div class="image">
<img src="messages_settings.png" alt=""/>
</div>
<p>The <code>Set active</code> checkbox activates selected limit. If both checkboxes are checked, log entries will be deleted based on both maximum number and maximum age of log entries, whichever criterion is met. <br  />
If you are having problems seeing the full navigation bar in the browse messages view you are able to configure the number of selectable pages in the navigation bar by changing the <code>Scroll</code> <code>range</code> setting. <br  />
<br  />
<code>Clear</code> option allows to immediately remove all log entries. This option should be used with care. It is recommended to set limit on either number or age of log entries instead, as described above. <br  />
</p>
<div class="image">
<img src="messages_clear.png" alt=""/>
</div>
<h2><a class="anchor" id="accounts"></a>
User account management</h2>
<pre class="fragment">    - Adding user account
</pre><p> Click <code>User accounts</code> and <code>Add</code> to set new user account. System will show user account data form allowing to provide some basic user's credentials as in the example below. <br  />
</p>
<div class="image">
<img src="account_add.png" alt=""/>
</div>
<p>Fill in the form and click <code>Save</code> in order to save new user account. The system will issue an appropriate message depending on the operation status.</p>
<dl class="section note"><dt>Note</dt><dd>It is of key importance to select a suitable role for the newly established account. It is achieved by selecting user's role from <code>Role</code> selection drop-down list. System functionality available in the GUI is different for users with particular roles. The following roles are available: <br  />
<ul>
<li><code>user</code> - Basic role with very limited access to the system. User with this role can browse data and system messages, access subscription and data source status information. <br  />
</li>
<li><code>operator</code> - Advanced user that can connect to peer nodes as well as start and stop subscriptions and access data processing tab. This role also extends user-level functionality. <br  />
</li>
<li><code>admin</code> - Node administrator with unlimited access to system options.</li>
<li><code>peer</code> - This role is reserved for data exchange and it is not available in the drop-down list. \endnote <pre class="fragment">  - Modifying user account setttings
</pre> Click <code>User accounts</code> and <code>Edit</code> to modify existing user account. The following form will be displayed.</li>
</ul>
</dd></dl>
<div class="image">
<img src="account_edit.png" alt=""/>
</div>
<p>Click given user's name to access account details page. Edit account settings and click <code>Save</code>. The system will confirm operation with suitable message. <br  />
User's password can be modified independently from the rest of account's settings. Click <code>User accounts</code>, <code>Edit</code>, then click <code>Change</code> option next to the selected account. Type new password, retype to confirm and click <code>Save</code>. From now on user can sign in using new password.</p>
<div class="image">
<img src="account_passwd.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>User accounts with peer-type role can't be modified, since this could affect data exchange process. It is still possible to remove this type of account. \endnote <pre class="fragment">    - Deleting user account 
</pre> To remove user account, click <code>User accounts</code> and select <code>Remove</code> option. The list of user accounts will be displayed.</dd></dl>
<div class="image">
<img src="account_remove.png" alt=""/>
</div>
<p>Click a checkbox next to the account that is to be removed and click <code>OK</code>. The system will confirm operation with suitable message.</p>
<h2><a class="anchor" id="node_settings"></a>
Node settings</h2>
<p>Refer to <a class="el" href="#quick_node_settings">Node settings</a> section. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jun 14 2024 10:47:43 for BaltradDex by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
