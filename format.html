<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BaltradDex: Data exchange format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="baltrad_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">BaltradDex
   </div>
   <div id="projectbrief">BALTRAD Data Exchange System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('format.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Data exchange format</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>December 30, 2015 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.2</dd></dl>
<p><a class="el" href="index.html#main_index">Index</a></p>
<ol type="1">
<li><a class="el" href="#exchange_general">General information</a></li>
<li><a class="el" href="#exchange_auth">Authentication</a><ol type="a">
<li><a class="el" href="#exchange_hdr">Authentication header</a></li>
<li><a class="el" href="#exchange_sign">Signing a request</a></li>
</ol>
</li>
<li><a class="el" href="#exchange_datasource_listing">Data source listing request</a></li>
<li><a class="el" href="#exchange_start_subscription">Start subscription request</a></li>
<li><a class="el" href="#exchange_update_subscription">Update subscription request</a></li>
<li><a class="el" href="#exchange_post_key">Post key request</a></li>
<li><a class="el" href="#exchange_post_file">Post file request</a></li>
<li><a class="el" href="#exchange_post_message">Post message request</a></li>
</ol>
<h1><a class="anchor" id="exchange_general"></a>
General information</h1>
<p>BaltradDex uses standard HTTP message structure for communication. Request and response parameters are passed as HTTP message headers. However, for passing additional information between BALTRAD nodes, the following custom header fields are introduced:</p>
<div class="fragment"><div class="line">Node-Name: &lt;name of requesting node&gt;</div>
<div class="line">Provider: [Peer|Injector]</div>
</div><!-- fragment --><p>This information is essential for correct node identification within BALTRAD network, as well as for message authentication.</p>
<dl class="section attention"><dt>Attention</dt><dd>Provider header is applied to <a class="el" href="#exchange_post_file">Post file request</a> and allows to distinguish between request coming from the peer node and request sent by the injector, that is third-party software providing data from local production system. It should take one of the following values: <code class="param">Injector</code> in case of a request send by an injector software, and <code class="param">Peer</code> in case of a request sent by the peer node.</dd></dl>
<h1><a class="anchor" id="exchange_auth"></a>
Authentication</h1>
<p><br  />
 For safety reasons, all messages passed within BALTRAD network are authenticated. Authentication is based on private/public keys using <a href="http://www.keyczar.org">KeyCzar</a> toolkit.</p>
<h2><a class="anchor" id="exchange_hdr"></a>
Authentication header</h2>
<p>For the purpose of authentication, a standard HTTP <code class="param">Authorization</code> header is used. The header value consists of user name name and user-specific credentials in the following format:</p>
<div class="fragment"><div class="line">Authorization: &lt;user name&gt;:&lt;credentials&gt;</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>User name is used to locate and access keys in the keystore. By default, BaltradDex uses node name property for this purpose. Therefore node name provided at the stage of installation (or initialization of the keystore) should not be modified without a justified reason.</dd></dl>
<h2><a class="anchor" id="exchange_sign"></a>
Signing a request</h2>
<p>In order to sign a request, first an input message should be prepared. This message will be next used to generate a signature. Input message is assembled from the following request elements: </p><pre class="fragment">    - Request method 
    - Request URI
    - Content-Type request header
    - Content-MD5 request header
    - Date
</pre><p>Typical input message will look like the following: </p><div class="fragment"><div class="line">GET</div>
<div class="line">http:<span class="comment">//example.baltrad.eu:8084/BaltradDex/get_datasource_listing.htm</span></div>
<div class="line">text/html</div>
<div class="line">aHR0cDovLzE ...</div>
<div class="line">Fri, 6 Jul 2012 13:00:26 CEST</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>The value of Content-MD5 request differs depending on the type of request. Refer to the documentation of particular request types for details.</dd></dl>
<p>Input message is signed with KeyCzar <code class="param">sign()</code> method available in <code class="param">org.keyczar.Signer</code> class, resulting in Base64 encoded signature string. Exemplary authorization header will take the following form:</p>
<div class="fragment"><div class="line">Authorization: example.baltrad.eu:APa7608wLQI ...</div>
</div><!-- fragment --><p>Once signed, the request is ready to submit. In case of a failure to authenticate the request on server side, the server will response with <code>HTTP 401 Unauthorized</code> status code. In case the server is unable to find a public key matching user name provided in <code class="param">Authorization</code> header, <code>HTTP 500 Internal Server Error</code> response is returned.</p>
<h1><a class="anchor" id="exchange_datasource_listing"></a>
Data source listing request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Request for data source listing. Reponse contains list of data sources available for a given user to subscribe.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>datasource_listing.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>Subscriber node's credentials</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/datasource_listing.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Content-Type: application/json</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;nodeAddress&quot;</span>:<span class="stringliteral">&quot;http://baltrad.imgw.pl:8084&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;orgName&quot;</span>:<span class="stringliteral">&quot;Institute of Meteorology and Water Management&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;orgUnit&quot;</span>:<span class="stringliteral">&quot;Remote Sensing Department&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;locality&quot;</span>:<span class="stringliteral">&quot;Warsaw&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;state&quot;</span>:<span class="stringliteral">&quot;Poland&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;countryCode&quot;</span>:<span class="stringliteral">&quot;PL&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of Base64-encoded request URI.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success - data sources subscribed<ul>
<li><code>201 Created</code> : Success - user account established</li>
</ul>
</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>500 Internal server error</code> : Server error <br  />
</li>
</ul>
</li>
<li>Body:<ul>
<li><code>201</code> : User account credentials</li>
<li><code>200</code> : List of subscribed data sources <br  />
<br  />
</li>
</ul>
</li>
<li><b>Example 201 response:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;nodeAddress&quot;</span>:<span class="stringliteral">&quot;http://baltrad.imgw.pl:8084&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;orgName&quot;</span>:<span class="stringliteral">&quot;Institute of Meteorology and Water Management&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;orgUnit&quot;</span>:<span class="stringliteral">&quot;Remote Sensing Department&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;locality&quot;</span>:<span class="stringliteral">&quot;Warsaw&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;state&quot;</span>:<span class="stringliteral">&quot;Poland&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;countryCode&quot;</span>:<span class="stringliteral">&quot;PL&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Example 200 response:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
<div class="line">[</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;PoznańSCAN&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar scans from Poznań&quot;</span></div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;LegionowoPVOL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar volumes from Legionowo&quot;</span></div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;PastewnikALL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar scans and volumes from Pastewnik&quot;</span></div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="exchange_start_subscription"></a>
Start subscription request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Request for data source subscription. Reponse contains list of successfully subscribed data sources.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>start_subscription.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>List of data sources selected for subscription</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/start_subscription.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Content-Type: application/json</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">[</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;PoznańSCAN&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar scans from Poznań&quot;</span></div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;LegionowoPVOL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar volumes from Legionowo&quot;</span></div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of Base64-encoded list of data sources selected for subscription.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success</li>
<li><code>206 Partial Content</code> : Subscription request was completed partially</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>404 Not Found</code> : Generic subscription error</li>
<li><code>500 Internal server error</code> : Server error <br  />
</li>
</ul>
</li>
<li>Body: <code>List of successfully subscribed data sources</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
<div class="line">[</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;PoznańSCAN&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar scans from Poznań&quot;</span></div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span>:<span class="stringliteral">&quot;LegionowoPVOL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;peer&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span>:<span class="stringliteral">&quot;Polar volumes from Legionowo&quot;</span></div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="exchange_update_subscription"></a>
Update subscription request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Request for subscription update. Reponse contains list of updated subscriptions.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>update_subscription.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>List of subscriptions</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/update_subscription.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Content-Type: application/json</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">[</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;local&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;date&quot;</span>:1357909585672,</div>
<div class="line">    <span class="stringliteral">&quot;active&quot;</span>:<span class="keyword">true</span>,</div>
<div class="line">    <span class="stringliteral">&quot;dataSource&quot;</span>:<span class="stringliteral">&quot;LegionowoPVOL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;user&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;syncronized&quot;</span>:<span class="keyword">true</span></div>
<div class="line">  },  </div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;local&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;date&quot;</span>:1357909585757,</div>
<div class="line">    <span class="stringliteral">&quot;active&quot;</span>:<span class="keyword">true</span>,</div>
<div class="line">    <span class="stringliteral">&quot;dataSource&quot;</span>:<span class="stringliteral">&quot;PoznańSCAN&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;user&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;syncronized&quot;</span>:<span class="keyword">true</span></div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of Base64-encoded list of subscriptions.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success</li>
<li><code>206 Partial Content</code> : Subscription request was completed partially</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>404 Not Found</code> : Generic subscription error</li>
<li><code>500 Internal server error</code> : Server error</li>
</ul>
</li>
<li>Body: <code>List of successfully updated subscriptions</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
<div class="line">[</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;local&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;date&quot;</span>:1357909625659,</div>
<div class="line">    <span class="stringliteral">&quot;active&quot;</span>:<span class="keyword">true</span>,</div>
<div class="line">    <span class="stringliteral">&quot;dataSource&quot;</span>:<span class="stringliteral">&quot;LegionowoPVOL&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;user&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;syncronized&quot;</span>:<span class="keyword">true</span></div>
<div class="line">  },</div>
<div class="line">  {</div>
<div class="line">    <span class="stringliteral">&quot;type&quot;</span>:<span class="stringliteral">&quot;local&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;date&quot;</span>:1357909625706,</div>
<div class="line">    <span class="stringliteral">&quot;active&quot;</span>:<span class="keyword">true</span>,</div>
<div class="line">    <span class="stringliteral">&quot;dataSource&quot;</span>:<span class="stringliteral">&quot;PoznańSCAN&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;user&quot;</span>:<span class="stringliteral">&quot;baltrad.imgw.pl&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;syncronized&quot;</span>:<span class="keyword">true</span></div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="exchange_post_key"></a>
Post key request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Post key request. Reponse indicates post key operation result.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>post_key.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>Key content</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/post_key.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Content-Type: application/zip</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">&lt;key content&gt;</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of MD5-encoded key content as hexadecimal string. \endnote </dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>409 Conflict</code> : Key already exists on server</li>
<li><code>500 Internal server error</code> : Server error <br  />
</li>
</ul>
</li>
<li>Body: <code>No content</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="exchange_post_file"></a>
Post file request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Post file request. Reponse indicates post file operation result.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>post_file.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Provider, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>File content</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/post_file.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Provider: Peer</div>
<div class="line">Content-Type: application/x-hdf5</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">&lt;file content&gt;</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of Base64-encoded request URI.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>404 Not Found</code> : Generic post file error</li>
<li><code>409 Conflict</code> : File already stored in the database</li>
<li><code>500 Internal server error</code> : Server error <br  />
</li>
</ul>
</li>
<li>Body: <code>No content</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="exchange_post_message"></a>
Post message request</h1>
<dl class="section user"><dt></dt><dd><b>Description</b> <br  />
 <br  />
 Post message request. Message body is processed by Beast messaginng interface. Reponse indicates post message operation result.</dd></dl>
<dl class="section user"><dt></dt><dd><b>Request</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Request URI: <code>post_message.htm</code></li>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Node-Name, Content-Type, Content-MD5, Date, Authorization</code></li>
<li>Body: <code>Message string</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">POST http:<span class="comment">//baltrad.imgw.pl:8084/BaltradDex/post_message.htm HTTP/1.1</span></div>
<div class="line">Node-Name: baltrad.imgw.pl</div>
<div class="line">Content-Type: text/html</div>
<div class="line">Content-MD5: aHR0cDovLzE ...</div>
<div class="line">Date: Fri, 6 Jul 2012 13:00:26 CEST</div>
<div class="line">Authorization: baltrad.imgw.pl:APa7608wLQI ...</div>
<div class="line">&lt;Message body&gt;</div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Content-MD5 header value consists of Base64-encoded message body. <br  />
</dd></dl>
<dl class="section user"><dt></dt><dd><b>Response</b> </dd></dl>
<dl class="section user"><dt></dt><dd><ul>
<li>Headers: <code>Node-Name</code></li>
<li>Status:<ul>
<li><code>200 OK</code> : Success</li>
<li><code>401 Unauthorized</code> : Server failed to authenticate request</li>
<li><code>500 Internal server error</code> : Server error / Unsupported message format <br  />
</li>
</ul>
</li>
<li>Body: <code>No content</code> <br  />
<br  />
</li>
<li><b>Example:</b> <div class="fragment"><div class="line">Node-Name: baltrad-backup.imgw.pl</div>
</div><!-- fragment --></li>
</ul>
</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Because message body is processed by Beast messaging interface, its format should match XML-based message format defined by Beast. In case of attempt to pass a message of unsupported format, the server will respond with <code> Internal Server Error (500)</code>. Refer to Beast framework documentation for details. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 8 2025 14:54:19 for BaltradDex by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
